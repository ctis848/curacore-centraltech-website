# netlify.toml - Netlify configuration file

[build]
  command = "npm run build"          # Your build command
  publish = ".next"                  # Where Next.js outputs production files

# Optional: Environment variables (better to set in Netlify dashboard instead)
# [context.production.environment]
#   NODE_VERSION = "20"

# Redirects & rewrites (very important for clean URLs and HTTPS)
[[redirects]]
  from = "http://*"
  to = "https://:splat"
  status = 301
  force = true

[[redirects]]
  from = "https://ctistech.com/*"
  to = "https://www.ctistech.com/:splat"
  status = 301
  force = true

# Handle all routes for Next.js (SPA-style)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# Optional: Force 404 page for missing routes
[[redirects]]
  from = "/404"
  to = "/404.html"
  status = 404